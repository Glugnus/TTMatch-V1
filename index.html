<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Match Ping</title>
    <link rel="stylesheet" href="./src/style.css" />
  </head>
  <body id="body">
    <section id="layout">
      <div id="screen" class="screen">
        <svg
          id="background"
          viewBox="0 0 2740 1525"
          xmlns="http://www.w3.org/2000/svg"
        >
          <!-- Table ping – ratio officiel 274 x 152.5 -->
          <g
            fill="none"
            stroke="black"
            stroke-linecap="square"
            stroke-linejoin="square"
          >
            <!-- Constantes pour rappel:
       xLeft=220, xRight=2520, yTop=120, yBot=1405
       netX=1370, netW=18 -> gap [1361, 1379]
  -->

            <!-- CÔTÉS VERTICAUX du cadre (intacts) -->
            <line
              x1="220"
              y1="120"
              x2="220"
              y2="1405"
              stroke-width="18"
              class="purple"
            />
            <line
              x1="2520"
              y1="120"
              x2="2520"
              y2="1405"
              stroke-width="18"
              class="orange"
            />

            <!-- BORD HAUT (coupé au filet) -->
            <line
              x1="220"
              y1="120"
              x2="1340"
              y2="120"
              stroke-width="18"
              class="purple"
            />
            <line
              x1="1400"
              y1="120"
              x2="2520"
              y2="120"
              stroke-width="18"
              class="orange"
            />

            <!-- BORD BAS (coupé au filet) -->
            <line
              x1="220"
              y1="1405"
              x2="1340"
              y2="1405"
              stroke-width="18"
              class="purple"
            />
            <line
              x1="1400"
              y1="1405"
              x2="2520"
              y2="1405"
              stroke-width="18"
              class="orange"
            />

            <!-- LIGNE CENTRALE HORIZONTALE (coupée par le filet) -->
            <line
              x1="220"
              y1="762.5"
              x2="1350"
              y2="762.5"
              stroke-width="3"
              class="purple"
            />
            <line
              x1="1390"
              y1="762.5"
              x2="2520"
              y2="762.5"
              stroke-width="3"
              class="orange"
            />

            <!-- FILET VERTICAL (au-dessus) -->
            <line
              x1="1370"
              y1="20"
              x2="1370"
              y2="1505"
              stroke-width="18"
              class="net"
            />
          </g>
        </svg>
        <div class="head">
          <div class="date" id="date"></div>
          <button class="icon" id="param">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              height="30px"
              viewBox="0 -960 960 960"
              width="30px"
              fill="currentColor"
            >
              <path
                d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"
              />
            </svg>
          </button>
        </div>
        <div id="start" class="app start">
          <div class="matchSelection">
            <select id="matchType" class="matchType">
              <option value="1">2 sets gagnants</option>
              <option value="2">3 sets gagnants</option>
              <option value="3">4 sets gagnants</option>
            </select>
          </div>
          <div class="players-start">
            <div class="player">
              <label for="playerLeft"></label>
              <input data-role="playerLeft" type="text" value="Joueur 1" />
            </div>
            <div class="player">
              <label for="playerRight"></label>
              <input data-role="playerRight" type="text" value="Joueur 2" />
            </div>
          </div>
          <div class="layoutToss">
            <button class="btn--toss" id="toss">Tirage au sort</button>
            <button id="matchGo" class="lancer">Lancer le match</button>
          </div>
        </div>
        <div id="game" class="app game is-hidden">
          <div data-role="chrono" class="chrono"></div>
          <div class="players-game">
            <div data-role="playerLeft" class="player">Joueur 1</div>
            <div class="nbService" id="nbServicePlayer1">
              <span class="service" id="service1Left"
                ><svg
                  class="tt-ball"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 64 64"
                >
                  <!-- Cercle principal (balle) -->
                  <circle
                    cx="32"
                    cy="32"
                    r="22"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="3"
                  />

                  <!-- Reflet / courbe en haut à gauche -->
                  <path
                    d="M22 18 A14 14 0 0 1 34 14"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="3"
                    stroke-linecap="round"
                  />
                </svg>
              </span>
              <span class="service" id="service2Left"
                ><svg
                  class="tt-ball"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 64 64"
                >
                  <!-- Cercle principal (balle) -->
                  <circle
                    cx="32"
                    cy="32"
                    r="22"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="3"
                  />

                  <!-- Reflet / courbe en haut à gauche -->
                  <path
                    d="M22 18 A14 14 0 0 1 34 14"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="3"
                    stroke-linecap="round"
                  />
                </svg>
              </span>
            </div>
            <div class="score" data-role="scorePlayerLeft">0</div>
            <div class="score" data-role="scorePlayerRight">0</div>
            <div class="nbService" id="nbServicePlayer2">
              <span class="service" id="service1Right"
                ><svg
                  class="tt-ball"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 64 64"
                >
                  <!-- Cercle principal (balle) -->
                  <circle
                    cx="32"
                    cy="32"
                    r="22"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="3"
                  />

                  <!-- Reflet / courbe en haut à gauche -->
                  <path
                    d="M22 18 A14 14 0 0 1 34 14"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="3"
                    stroke-linecap="round"
                  />
                </svg>
              </span>
              <span class="service" id="service2Right"
                ><svg
                  class="tt-ball"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 64 64"
                >
                  <!-- Cercle principal (balle) -->
                  <circle
                    cx="32"
                    cy="32"
                    r="22"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="3"
                  />

                  <!-- Reflet / courbe en haut à gauche -->
                  <path
                    d="M22 18 A14 14 0 0 1 34 14"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="3"
                    stroke-linecap="round"
                  />
                </svg>
              </span>
            </div>
            <div data-role="playerRight" class="player">Joueur 2</div>
          </div>
          <div class="setReview">
            <button class="point" id="pointPlayerLeft">Point</button>
            <div class="set" data-role="setPlayerLeft">0</div>
            <div class="set" data-role="setPlayerRight">0</div>
            <button class="point" id="pointPlayerRight">Point</button>
          </div>
          <div class="stats">
            <div class="table" id="tablePlayer1">
              <div data-role="pWonPL">0</div>
              <div data-role="pWonOwnServePL">0</div>
              <div data-role="pWonOppServePL">0</div>
            </div>
            <div class="table" id="nameStat">
              <div>Points Gagnés</div>
              <div>Points gagnés sur son service</div>
              <div>Points gagnés sur la service adverse</div>
            </div>
            <div class="table" id="tablePlayer2">
              <div data-role="pWonPR">0</div>
              <div data-role="pWonOwnServePR">0</div>
              <div data-role="pWonOppServePR">0</div>
            </div>
          </div>
        </div>
        <div id="finish" class="app finish is-hidden">
          <div data-role="chrono" class="chrono"></div>
          <div class="resume">
            <div data-role="playerLeft" class="player">Joueur 1</div>
            <div class="resume-set" data-role="scorePlayerLeft"></div>
            <div class="resume-set" data-role="scorePlayerRight"></div>
            <div data-role="playerRight" class="player">Joueur 2</div>
            <div class="set-finish" data-role="setPlayerLeft"></div>
            <div class="set-finish" data-role="setPlayerRight"></div>
          </div>
          <div class="set-selection">
            <div id="rightBtn"></div>
            <div id="leftBtn">
              <button id="fullSet">Match</button>
            </div>
          </div>
          <div class="statsMatch">
            <div class="chart">
              <canvas class="chart-content" id="rallyPoint"></canvas>
            </div>
            <div class="stats">
              <div class="table" id="tablePlayer1">
                <div data-role="pWonPL">0</div>
                <div data-role="pWonOwnServePL">0</div>
                <div data-role="pWonOppServePL">0</div>
              </div>
              <div class="table" id="nameStat">
                <div>Points Gagnés</div>
                <div>Points gagnés sur son service</div>
                <div>Points gagnés sur la service adverse</div>
              </div>
              <div class="table" id="tablePlayer2">
                <div data-role="pWonPR">0</div>
                <div data-role="pWonOwnServePR">0</div>
                <div data-role="pWonOppServePR">0</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section id="modals" class="modals">
      <div class="overlay is-hidden" id="overlay"></div>
      <div class="modal is-hidden" id="serverChoiceModal">
        <div class="modal-content">
          <h2>Qui commence à servir ?</h2>
          <button class="modalButton" id="servicePlayer1"></button>
          <button class="modalButton" id="random">Tirage au sort</button>
          <button class="modalButton" id="servicePlayer2"></button>
        </div>
      </div>
      <div class="modal is-hidden" id="sideChoiceModal">
        <div class="modal-content">
          <h2></h2>
          <div class="modal-side">
            <button class="modalButton" id="left">Gauche</button>
            <button class="modalButton" id="right">Droite</button>
          </div>
        </div>
      </div>
      <div class="modal is-hidden" id="alertChoiceServerFirst">
        <div class="modal-content">
          <h2>Définis d'abord le premier serveur !</h2>
          <button class="modalButton" id="fermer">Fermer</button>
        </div>
      </div>
      <div class="modal is-hidden" id="serverSideChange">
        <div class="modal-content">
          <h2>Changez de côté pour le prochain set !</h2>
          <button class="modalButton" id="OK">OK</button>
        </div>
      </div>
    </section>
  </body>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="./src/data.js"></script>
  <script src="./src/chart.js"></script>
  <script src="./src/script.js"></script>
  <script src="./src/event.js"></script>
</html>
